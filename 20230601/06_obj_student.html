<!DOCTYPE html>
<html>
<style>
    table,
    th,
    td {
        border: 1px solid black;
        text-align: center;
    }

    th {
        width: 25%;
    }

    button {
        width: 80%;
    }
</style>

<body>

    <h2>學生成績計算</h2>

    <table style="width:100%">
        <tr>
            <th>姓名</th>
            <th>國文</th>
            <th>英文</th>
            <th>數學</th>
        </tr>
        <tr>
            <td id="">
                <input type="text" id="myName" value="">
            </td>
            <td id="">
                <input type="text" id="chinese" value="">
            </td>
            <td id="">
                <input type="text" id="english" value="">
            </td>
            <td id="">
                <input type="text" id="math" value="">
            </td>
        </tr>
        <tr>
            <td colspan="4">
                <button type="button" id="myBtn">myBtn</button>
            </td>
        </tr>

    </table>

    <p id="result"></p>

    <script>
        // 1.綁定
        const myName = document.getElementById('myName');
        const chinese = document.getElementById('chinese');
        const english = document.getElementById('english');
        const math = document.getElementById('math');
        const myBtn = document.getElementById('myBtn');
        const result = document.getElementById('result');

        // 2.宣告data物件及各項元素
        let data = {
            //元素裡面可以存放資料或""空值
            name: '',
            chinese: '',
            english: '',
            math: '',
            //宣告sum元素函式
            sum: function () {
                // 取姓名、國文、英文、數學輸入的值，分別用let指派給相對應的變數
                let myNameValue = myName.value;
                let chineseValue = chinese.value;
                let englishValue = english.value;
                let mathValue = math.value;

                // 逐一將取值後的變數，指派給data物件的每個元素，且一定要用"this.元素名稱"才能指定data物件的每個元素
                this.name = myNameValue;
                this.chinese = chineseValue;
                this.english = englishValue;
                this.math = mathValue;
                console.log('sum this', this);

                //宣告sum變數，將三個科目成績加總起來
                let sum = Number(chineseValue) + Number(englishValue) + Number(mathValue);
                //回傳sum值
                return sum;
                // console.log('sum',sum);
                // console.log('chineseVaule',chineseVaule);
                // console.log('englishVaule',englishVaule);
                // console.log('mathVaule',mathVaule);
            },
            //宣告avg元素函式
            avg: function () {
                //宣告sum變數，將data物件之sum物件函數的回傳值指派給sum，此sum非彼sum
                console.log('avg this', this);
                let sum = this.sum();
                //宣告avg變數，用Math.round()函數*100再/100，取得小數點後2位數
                let avg = Math.round(sum / 3 * 100) / 100;
                //回傳avg值
                return avg;
            }
        }
        // console.log('data', data);
        // myName.value = data.name;
        // chinese.value = data.chinese;
        // english.value = data.english;
        // math.value = data.math;

        myBtn.addEventListener('click', function () {
            //分別執行data物件之元素函式，並指派宣告給相對應的變數
            let sum = data.sum();
            let avg = data.avg();
            console.log('result sum', sum);
            console.log('result avg', avg);
            console.log('myBtn this', this);

            //用innertext將最後的結果，加入result中
            result.innerText = `
                員工 : ${data.name}
                國文 : ${data.chinese}
                英文 : ${data.english}
                數學 : ${data.math}
                總分 : ${sum}
                平均 : ${avg}
            `;
        })
    </script>
</body>

</html>